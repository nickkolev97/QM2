<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Quantitative Methods 2 - Distributions and Basic Statistics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Week 8.html" rel="next">
<link href="../Week 6.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Distributions and Basic Statistics</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../" class="sidebar-logo-link">
      <img src=".././logo2.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Quantitative Methods 2</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/oballinger/QM2/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Download" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-download"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="../Quantitative-Methods-2.pdf">
            <i class="bi bi-bi-file-pdf pe-1"></i>
          Download PDF
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="../Quantitative-Methods-2.epub">
            <i class="bi bi-bi-journal pe-1"></i>
          Download ePub
          </a>
        </li>
    </ul>
    <a href="" title="Share" id="sidebar-tool-dropdown-1" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-1">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W01. Python Recap.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Python Recap</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W02. Pandas.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Intro to Pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W03. Spatial Data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Spatiotemporal Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W04. Natural Language Processing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Natural Language Processing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W05. Merging and Joining.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Merging and Joining</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Week 6.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Group Presentations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W07. Distributions and Basic Statistics.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Distributions and Basic Statistics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Week 8.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W09. Machine Learning.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Machine Learning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/W10. Advanced Visualization.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Advanced Visualization</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#workshop-7-open-in-colab" id="toc-workshop-7-open-in-colab" class="nav-link active" data-scroll-target="#workshop-7-open-in-colab"><em>Workshop 7</em> <img src="../colab-badge.png" class="img-fluid" alt="Open In Colab"></a>
  <ul class="collapse">
  <li><a href="#aims" id="toc-aims" class="nav-link" data-scroll-target="#aims">Aims:</a></li>
  </ul></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting Started</a>
  <ul class="collapse">
  <li><a href="#first-things-first-bias" id="toc-first-things-first-bias" class="nav-link" data-scroll-target="#first-things-first-bias">First Things First: Bias</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#summary-statistics" id="toc-summary-statistics" class="nav-link" data-scroll-target="#summary-statistics">Summary Statistics</a></li>
  <li><a href="#distributions" id="toc-distributions" class="nav-link" data-scroll-target="#distributions">Distributions</a></li>
  <li><a href="#exercise-counting-heads" id="toc-exercise-counting-heads" class="nav-link" data-scroll-target="#exercise-counting-heads">Exercise: counting heads</a></li>
  <li><a href="#in-the-bin" id="toc-in-the-bin" class="nav-link" data-scroll-target="#in-the-bin">In the bin</a></li>
  <li><a href="#exercise-keep-gaussians-tidy" id="toc-exercise-keep-gaussians-tidy" class="nav-link" data-scroll-target="#exercise-keep-gaussians-tidy">Exercise: Keep Gaussians Tidy</a></li>
  <li><a href="#some-normal-behaviours" id="toc-some-normal-behaviours" class="nav-link" data-scroll-target="#some-normal-behaviours">Some Normal Behaviours</a></li>
  <li><a href="#question" id="toc-question" class="nav-link" data-scroll-target="#question">Question:</a></li>
  <li><a href="#asymmetric-distributions" id="toc-asymmetric-distributions" class="nav-link" data-scroll-target="#asymmetric-distributions">Asymmetric Distributions</a></li>
  <li><a href="#magic-moments" id="toc-magic-moments" class="nav-link" data-scroll-target="#magic-moments">Magic Moments</a>
  <ul class="collapse">
  <li><a href="#th-moment" id="toc-th-moment" class="nav-link" data-scroll-target="#th-moment">0th moment</a></li>
  <li><a href="#st-moment" id="toc-st-moment" class="nav-link" data-scroll-target="#st-moment">1st moment</a></li>
  <li><a href="#nd-moment" id="toc-nd-moment" class="nav-link" data-scroll-target="#nd-moment">2nd moment</a></li>
  <li><a href="#rd-moment" id="toc-rd-moment" class="nav-link" data-scroll-target="#rd-moment">3rd moment</a></li>
  <li><a href="#th-moment-1" id="toc-th-moment-1" class="nav-link" data-scroll-target="#th-moment-1">4th moment</a></li>
  <li><a href="#other-moments" id="toc-other-moments" class="nav-link" data-scroll-target="#other-moments">Other moments</a></li>
  <li><a href="#recap-the-median" id="toc-recap-the-median" class="nav-link" data-scroll-target="#recap-the-median">Recap: The Median</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a></li>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">Exercise</a></li>
  <li><a href="#power-laws" id="toc-power-laws" class="nav-link" data-scroll-target="#power-laws">Power Laws</a></li>
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2">Exercise:</a></li>
  <li><a href="#comments" id="toc-comments" class="nav-link" data-scroll-target="#comments">Comments:</a></li>
  <li><a href="#extension-quantifying-datasets-which-cover-a-wide-range-of-values." id="toc-extension-quantifying-datasets-which-cover-a-wide-range-of-values." class="nav-link" data-scroll-target="#extension-quantifying-datasets-which-cover-a-wide-range-of-values.">Extension: Quantifying Datasets Which Cover a Wide Range of Values.</a></li>
  <li><a href="#extension-bimodal-distributions" id="toc-extension-bimodal-distributions" class="nav-link" data-scroll-target="#extension-bimodal-distributions">Extension: Bimodal Distributions</a></li>
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3">Exercise:</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/oballinger/QM2/blob/main/notebooks/W07. Distributions and Basic Statistics.ipynb" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Distributions and Basic Statistics</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="workshop-7-open-in-colab" class="level2">
<h2 class="anchored" data-anchor-id="workshop-7-open-in-colab"><em>Workshop 7</em> <a href="https://colab.research.google.com/github/oballinger/QM2/blob/main/notebooks/W07.%20Distributions%20and%20Basic%20Statistics.ipynb"><img src="../colab-badge.png" class="img-fluid" alt="Open In Colab"></a></h2>
<p>For the rest of this course, we’ll be working with data from the U.S. Census <a href="https://www.census.gov/programs-surveys/cps.html">Current Population Survey (CPS)</a>.</p>
<section id="aims" class="level3">
<h3 class="anchored" data-anchor-id="aims">Aims:</h3>
<ul>
<li><p>Choosing appropriate summary statistics for varying distributions</p></li>
<li><p>Understanding:</p>
<ul>
<li>The nature of our dataset, including potential bias</li>
<li>How to generate summary statistics for our dataset</li>
<li>The distribution of different variables</li>
<li>The intuition behind the Central Limit Theorem</li>
</ul></li>
</ul>
</section>
</section>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">Getting Started</h2>
<section id="first-things-first-bias" class="level3">
<h3 class="anchored" data-anchor-id="first-things-first-bias">First Things First: Bias</h3>
<p>Once we’ve acquired a dataset, the first step is <em>always</em> to develop an understanding of where the data has come from. For this dataset, use the following <a href="https://www.census.gov/programs-surveys/cps/technical-documentation/methodology.html">documentation page</a> to answer the questions below:</p>
<ol type="1">
<li>What is the population of interest?</li>
<li>What was the sampling strategy?</li>
<li>What are potential sources of selection bias?</li>
</ol>
<p>I’ll start by importing the libraries I need: matplotlib (for graphs), pandas (for data), numpy (for maths) and random (for generating random numbers):</p>
<div class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This is a comment - python does not try to execute it</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#This tells python to draw the graphs "inline" - in the notebook</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline  </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> norm</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statistics</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pylab</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># make the plots (graphs) a little wider by default</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>pylab.rcParams[<span class="st">'figure.figsize'</span>] <span class="op">=</span> (<span class="fl">10.</span>, <span class="fl">8.</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p>The first thing to notice is that I’m using an <strong>alias</strong> for matplotlib.pyplot - it’s a bit ungainly, so I’m using “plt” in its place. That’s just to make the coding easier. I’ll do the same for some of the other libraries as we go through - this isn’t necessary, but online examples frequently use “pd” for “pandas” (for example), so it can be useful to use these. The way it works is pretty simple - now I’ve used “plt” as my alias for matplotlib.pyplot, I can just say “plt.<em>command()</em>” whenever I need to use functions from that library.</p>
<p>Now that I’ve imported the libraries I’m going to be using, I’m ready to import the data:</p>
<div class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.read_csv(<span class="st">'./data/wk7/cps.csv'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="134">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>state</th>
      <th>age</th>
      <th>sex</th>
      <th>race</th>
      <th>sch</th>
      <th>ind</th>
      <th>union</th>
      <th>incwage</th>
      <th>realhrwage</th>
      <th>occupation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1990</td>
      <td>36</td>
      <td>58</td>
      <td>1</td>
      <td>3</td>
      <td>12.0</td>
      <td>871</td>
      <td>0.0</td>
      <td>14200.0</td>
      <td>12.269874</td>
      <td>Office and Admin Support</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2009</td>
      <td>5</td>
      <td>28</td>
      <td>1</td>
      <td>1</td>
      <td>12.0</td>
      <td>8660</td>
      <td>1.0</td>
      <td>17680.0</td>
      <td>8.635149</td>
      <td>Office and Admin Support</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1990</td>
      <td>36</td>
      <td>37</td>
      <td>1</td>
      <td>1</td>
      <td>14.0</td>
      <td>380</td>
      <td>1.0</td>
      <td>28000.0</td>
      <td>21.169851</td>
      <td>.</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1990</td>
      <td>6</td>
      <td>34</td>
      <td>1</td>
      <td>1</td>
      <td>18.0</td>
      <td>740</td>
      <td>1.0</td>
      <td>27500.0</td>
      <td>20.447746</td>
      <td>Computer and Math Technicians</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1981</td>
      <td>51</td>
      <td>38</td>
      <td>1</td>
      <td>4</td>
      <td>13.0</td>
      <td>798</td>
      <td>NaN</td>
      <td>17000.0</td>
      <td>18.892282</td>
      <td>Managers</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Our dataframe has 10 columns:</p>
<ol type="1">
<li><em>year</em>: Survey year</li>
<li><em>age</em>: the person’s age</li>
<li><em>sex</em>: the person’s sex
<ul>
<li>1=male</li>
<li>2=female</li>
</ul></li>
<li><em>race</em>: the person’s race
<ul>
<li>White non hispanic=1</li>
<li>Black non hispanic=2</li>
<li>Hispanic=3</li>
<li>Other non hispanic=4)</li>
</ul></li>
<li><em>sch</em>: Educational attainment
<ul>
<li>None = 0,</li>
<li>Grades 1-12 = 1-12</li>
<li>Some University = 13,</li>
<li>Associate’s degree = 14,</li>
<li>BA = 16</li>
<li>Advanced Degree = 18</li>
</ul></li>
<li><em>union</em>: Union membership
<ul>
<li>N/A = 0,</li>
<li>No union coverage = 1,</li>
<li>Member of labor union=2,</li>
<li>Covered by union but not a member=3</li>
</ul></li>
<li><em>incwage</em>: Wage and salary income</li>
<li><em>realhrwage</em>: Real Hourly Wage</li>
<li><em>occupation</em>: Occupation</li>
<li><em>ind</em>: <a href="https://www.census.gov/naics/?58967?yearbck=2002">industry code</a></li>
</ol>
<p>Based on the data</p>
</section>
<section id="summary-statistics" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h2>
<p>After thinking about the origins of our dataset and loading it into python, the next step is to generate summary statistics. This is vital for us to better understand our data. Pandas has a useful function, <code>describe</code>, which will generate summary statistics for all numerical variables in our entire dataframe:</p>
<div class="cell" data-execution_count="135">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="135">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>state</th>
      <th>age</th>
      <th>sex</th>
      <th>race</th>
      <th>sch</th>
      <th>ind</th>
      <th>union</th>
      <th>incwage</th>
      <th>realhrwage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>344287.000000</td>
      <td>344287.000000</td>
      <td>344287.000000</td>
      <td>344287.000000</td>
      <td>344287.000000</td>
      <td>344287.000000</td>
      <td>344287.000000</td>
      <td>301908.000000</td>
      <td>3.442870e+05</td>
      <td>344287.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2002.599122</td>
      <td>28.121004</td>
      <td>41.734364</td>
      <td>1.489057</td>
      <td>1.570077</td>
      <td>13.498057</td>
      <td>4235.846009</td>
      <td>0.221505</td>
      <td>3.976170e+04</td>
      <td>22.886629</td>
    </tr>
    <tr>
      <th>std</th>
      <td>10.831555</td>
      <td>15.818556</td>
      <td>10.415874</td>
      <td>0.499881</td>
      <td>0.952252</td>
      <td>2.799038</td>
      <td>3468.163157</td>
      <td>0.499690</td>
      <td>4.529758e+04</td>
      <td>506.489695</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1981.000000</td>
      <td>1.000000</td>
      <td>25.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>10.000000</td>
      <td>0.000000</td>
      <td>1.500000e+01</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1990.000000</td>
      <td>13.000000</td>
      <td>33.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>12.000000</td>
      <td>760.000000</td>
      <td>0.000000</td>
      <td>1.670000e+04</td>
      <td>11.723004</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2007.000000</td>
      <td>28.000000</td>
      <td>41.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>13.000000</td>
      <td>4270.000000</td>
      <td>0.000000</td>
      <td>3.000000e+04</td>
      <td>17.698591</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2011.000000</td>
      <td>41.000000</td>
      <td>50.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>16.000000</td>
      <td>7860.000000</td>
      <td>0.000000</td>
      <td>5.000000e+04</td>
      <td>26.442308</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2013.000000</td>
      <td>56.000000</td>
      <td>64.000000</td>
      <td>2.000000</td>
      <td>4.000000</td>
      <td>18.000000</td>
      <td>9590.000000</td>
      <td>3.000000</td>
      <td>1.259999e+06</td>
      <td>294610.968750</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><code>describe</code> returns a dataframe with the same columns as the source dataframe. For numeric data, the result’s index will include count, mean, std, min, max as well as lower, 50 and upper percentiles. By default the lower percentile is 25 and the upper percentile is 75. The 50 percentile is the same as the median. Given these summary statistics, answer the following questions:</p>
<ol type="1">
<li>what is the median hourly wage?</li>
<li>what is the average age?</li>
<li>are there more men or women?</li>
<li>intepret the mean of the “race” column.</li>
</ol>
<p>The answer to the last question should provoke some futher thought; the race column is categorical, but because it contains numbers it’s being treated as numerical. The mean of a categorical variable is meaningless; For object data (e.g.&nbsp;categories, strings or timestamps), the result’s index will include count, unique, top, and freq. The top is the most common value. The freq is the most common value’s frequency. Timestamps also include the first and last items.</p>
<p>Let’s convert the race column from a numerical variable into a categorical one, and try <code>describe</code> once again:</p>
<div class="cell" data-execution_count="136">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="136">
<pre><code>year            int64
state           int64
age             int64
sex             int64
race            int64
sch           float64
ind             int64
union         float64
incwage       float64
realhrwage    float64
occupation     object
dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'race'</span>]<span class="op">=</span>df[<span class="st">'race'</span>].astype(<span class="st">'category'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'race'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="137">
<pre><code>count     344287
unique         4
top            1
freq      240382
Name: race, dtype: int64</code></pre>
</div>
</div>
<p>what other variables are categorical? Convert them to categorical and describe. What is the most common occupation in this dataset?</p>
<div class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the variables to categorical and describe</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These statistics are useful, but suppose we want detailed counts of the number of individuals in each category; For this, we can use the <code>groupby</code> function, with the <code>.size()</code> operator which simply counts the number of rows in each category.</p>
<div class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>occupations<span class="op">=</span> df.groupby(<span class="st">'occupation'</span>).size()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>occupations.sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="139">
<pre><code>occupation
.                                         132708
Office and Admin Support                   50635
Managers                                   35696
Consruction, Extraction, Installation      30579
Production                                 29732
Transportation and materials moving        21277
Computer and Math Technicians               8602
Protective Service adj_occupations          7809
financial Operators                         7702
Business Operators                          7327
Community and Social Workers                6025
Lawyers, Judges,Physicans and dentists      3835
Farming, Fishing &amp; Forestry                 2360
dtype: int64</code></pre>
</div>
</div>
<p>What is the most common profession?</p>
</section>
<section id="distributions" class="level1">
<h1>Distributions</h1>
<p>Now that we’ve cleaned our data up, let’s have a closer look at the <em>distribution</em> of our data. The best way to do this is using a histogram. Let’s start by looking at the distribution of the <code>incwage</code> variable:</p>
<div class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>df[df[<span class="st">'year'</span>]<span class="op">==</span><span class="dv">2013</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>plt.hist(df[<span class="st">'incwage'</span>])</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-9-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>income<span class="op">=</span>df[<span class="st">'incwage'</span>]<span class="op">/</span><span class="dv">1000</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>plt.hist(income, bins<span class="op">=</span><span class="dv">100</span>, edgecolor<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Income ($, thousands'</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"U.S. Income Distributon, 2013"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-10-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>inc_summary<span class="op">=</span>income.describe()</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(inc_summary[[<span class="st">'mean'</span>,<span class="st">'50%'</span>,<span class="st">'std'</span>]])</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plt.hist(income, bins<span class="op">=</span><span class="dv">100</span>, edgecolor<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>plt.axvline(inc_summary[<span class="st">'mean'</span>], color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="dv">1</span>,label<span class="op">=</span><span class="st">'Mean'</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>plt.axvline(inc_summary[<span class="st">'50%'</span>], color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="dv">1</span>, label<span class="op">=</span><span class="st">'Median'</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Income ($, thousands'</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"U.S. Income Distributon, 2013"</span>)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="dv">0</span>,<span class="dv">250</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>mean    51.821863
50%     40.000000
std     60.163449
Name: incwage, dtype: float64</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-11-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_histogram(variable, bins, xlab, title):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    summary<span class="op">=</span>variable.describe()</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    plt.hist(variable, bins<span class="op">=</span>bins,edgecolor<span class="op">=</span><span class="st">'white'</span>, density<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    plt.axvline(summary[<span class="st">'mean'</span>], color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="dv">1</span>,label<span class="op">=</span><span class="st">'Mean '</span><span class="op">+</span><span class="bu">str</span>(<span class="bu">round</span>(summary[<span class="st">'mean'</span>],<span class="dv">2</span>)))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    plt.axvline(summary[<span class="st">'50%'</span>], color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="dv">1</span>, label<span class="op">=</span><span class="st">'Median '</span><span class="op">+</span><span class="bu">str</span>(<span class="bu">round</span>(summary[<span class="st">'50%'</span>],<span class="dv">2</span>)))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    plt.legend()</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(xlab)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    plt.title(title)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>plot_histogram(df[<span class="st">'incwage'</span>]<span class="op">/</span><span class="dv">1000</span>, bins<span class="op">=</span><span class="dv">100</span>, xlab<span class="op">=</span><span class="st">'Income ($, 000)'</span>,title<span class="op">=</span><span class="st">'U.S. Income Distribution, 2013'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-12-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plot_histogram(df[<span class="st">'age'</span>], bins<span class="op">=</span><span class="dv">20</span>, xlab<span class="op">=</span><span class="st">'Age'</span>,title<span class="op">=</span><span class="st">'U.S. Age Distribution, 2013'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-13-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mu, se<span class="op">=</span> <span class="dv">0</span>, <span class="dv">1</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>se, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>se, <span class="dv">100</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>plt.plot(x, norm.pdf(x, mu, se))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.axvline(mu, color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'solid'</span>, linewidth<span class="op">=</span><span class="dv">1</span>,label<span class="op">=</span><span class="st">'µ'</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>plt.axvline(mu<span class="op">-</span>se<span class="op">*</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="fl">1.5</span>,label<span class="op">=</span><span class="st">'µ ± 2σ'</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>plt.axvline(mu<span class="op">+</span>se<span class="op">*</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="fl">1.5</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-15-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_sample_means(var, xlab, sample_size):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#create an empty list to store sample means</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    sample_means<span class="op">=</span>[]</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># loop 10,000 times.</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,<span class="dv">10000</span>):</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># for each iteration, draw a sample of the size specified by the "sample_size" parameter</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>        sample<span class="op">=</span>var.sample(sample_size, replace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># calculate the mean, and append it to the list of sample means. </span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>        sample_mean<span class="op">=</span>sample.mean()</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>        sample_means.append(sample_mean)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># now, plot a histogram </span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    plt.hist(sample_means, bins<span class="op">=</span><span class="bu">int</span>(<span class="dv">30</span>), color<span class="op">=</span> <span class="st">'green'</span>, edgecolor<span class="op">=</span><span class="st">'white'</span>, density<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># fit a normal distribution to the data </span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    mu, se <span class="op">=</span> norm.fit(sample_means)</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>    xmin, xmax <span class="op">=</span> plt.xlim()</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> np.linspace(xmin, xmax, <span class="dv">100</span>)</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    p <span class="op">=</span> norm.pdf(x, mu, se) </span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    plt.plot(x, p, <span class="st">'k'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate the difference between the mean of the sample means </span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    diff<span class="op">=</span><span class="bu">abs</span>(mu<span class="op">-</span>var.mean())</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add droplines, labels, title, legend, and limit the x-axis range to 3 standard deviations from the mean on either side.</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    plt.axvline(mu, color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="dv">1</span>,label<span class="op">=</span><span class="st">'µx̄ - µ= '</span><span class="op">+</span><span class="bu">str</span>(<span class="bu">round</span>(diff, <span class="dv">3</span>)))</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    plt.axvline(mu<span class="op">-</span>se<span class="op">*</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="fl">1.5</span>,label<span class="op">=</span><span class="st">'µ ± 2σ'</span>)</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    plt.axvline(mu<span class="op">+</span>se<span class="op">*</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>, linewidth<span class="op">=</span><span class="fl">1.5</span>)</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>    plt.legend()</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(xlab)    </span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">'Distribution of Sample Means (n=</span><span class="sc">{}</span><span class="st">)'</span>.<span class="bu">format</span>(sample_size))</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>    plt.xlim(mu<span class="op">-</span>se<span class="op">*</span><span class="dv">3</span>, mu<span class="op">+</span>se<span class="op">*</span><span class="dv">3</span>)</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>    plt.show()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="147">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>plot_sample_means(income, xlab<span class="op">=</span><span class="st">'Income, ($, 000)'</span>, sample_size<span class="op">=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-17-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot_sample_means(df[<span class="st">'union'</span>], xlab<span class="op">=</span><span class="st">'Income, ($, 000)'</span>, sample_size<span class="op">=</span><span class="dv">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-18-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="exercise-counting-heads" class="level1">
<h1>Exercise: counting heads</h1>
<p>By modifying variables in the code above, create and plot a distribution of heights for <em>men</em> in the USA. Use of wikipedia and the internet is allowed. Social media is not.</p>
<p>How many men in America are average height? (Hint: think about the “sample” variable)</p>
<p><em>Extension:</em> How many men in the USA are within 7cm of the mean?</p>
</section>
<section id="in-the-bin" class="level1">
<h1>In the bin</h1>
<p>Slightly more subtly, the bin size might affect our answers to some of these questions. In order to create a distribution, we need to <em>bin</em> data to create the graph that we’ve created - a <em>histogram</em> which we expect to reflect the probability mass function. If I give you a string of heights (1.1, 1.5, 1.6, 1.2, 1.8, 1.4, 1.0, 1.55, 1.74, etc) you can probably see that they cluster around 1.5 or thereabouts, but to graph them as a histogram, you need to choose a bin size and range. Let’s say we choose 10 bins, starting at 1m and each bin is 0.1m bigger. So if the height h is 1.0 <span class="math inline">\(\leq\)</span> h &lt; 1.1, it goes into the first bin, if 1.1 <span class="math inline">\(\leq\)</span> h &lt; 1.2 in the second and so on. For this data, we’d see one entry in the first bin, one in the second, a few around the middle and only one in the higher echelons.</p>
<p>This is pretty basic and you’re probably familiar with it. But you need to choose the number of bins appropriately for the data set - and that’s very sensitive to the number of samples you have.</p>
</section>
<section id="exercise-keep-gaussians-tidy" class="level1">
<h1>Exercise: Keep Gaussians Tidy</h1>
<p>In the above code, increase the number of bins to 1000 - what do you notice?</p>
<p>Reduce the number of bins to 10 - what happens now? What’s causing this effect?</p>
<p>Reduce the number of samples to 1000. What affect does this have on the histogram?</p>
<p>How can you use this information for plotting and binning data?</p>
<p><em>Extension</em>: to find more about the function used to sample these random numbers above, take a look at the Python documentation: http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.randn.html)</p>
</section>
<section id="some-normal-behaviours" class="level1">
<h1>Some Normal Behaviours</h1>
<p>Let’s look at the mean and standard deviation on the graph. We can calculate the mean and standard deviation of our (synthetic) dataset a by using the np.mean() and np.std() methods.</p>
<p>Recall that the . notation means we’re using a method from “inside” the numpy library.</p>
<div class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#as we did before...</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>plt.hist(heights, bins, histtype<span class="op">=</span><span class="st">'step'</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#draw the mean</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>plt.axvline(numpy.mean(heights), color <span class="op">=</span> <span class="st">'r'</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>sd <span class="op">=</span> numpy.std(heights)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#draw mean + one s.d.</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>plt.axvline(numpy.mean(heights) <span class="op">+</span> sd, color<span class="op">=</span><span class="st">'k'</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">#draw mean - one s.d.</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>plt.axvline(numpy.mean(heights) <span class="op">-</span> sd, color <span class="op">=</span> <span class="st">'k'</span>)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Height [cm]'</span>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Fake Heights'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'heights' is not defined</code></pre>
</div>
</div>
<p>Gaussians have some nice standard properties - for example, 68% of the data lies within one standard deviation of the mean. That means in our example above, 2/3 of women in the UK are between 1.57m and 1.69m tall. With a Gaussian, 95% of data is within two standard deviations - so 95% of women in the UK are at least 1.51m tall, and shorter than 1.75m. So this starts to answer some of our questions we posed initially - from a random sample, there is a 1 in 40 chance of a woman in the uk being taller than 1.75m. <strong>How did I arrive at that figure?</strong></p>
<p>Let’s also plot the <em>median</em> of the Gaussian:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#as we did before...</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>plt.hist(heights, bins, histtype<span class="op">=</span><span class="st">'step'</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#draw the median</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>plt.axvline(numpy.median(heights), color <span class="op">=</span> <span class="st">'g'</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Height [cm]'</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Fake Heights'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>Text(0.5, 1.0, 'Fake Heights')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-24-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="question" class="level1">
<h1>Question:</h1>
<p>Why is the mean the same as the mean (and the mode)?</p>
<p>Not all probability distributions follow the same logic, though - sometimes a sample is possible - even likely - even if it is dozens of times the mean, which for height would be tens of metres tall. More generally, we can start to unpick the shape of a probability curve using <em>moments</em>.</p>
</section>
<section id="asymmetric-distributions" class="level1">
<h1>Asymmetric Distributions</h1>
<p>We won’t talk about how we decide what the best fit for a dataset is - suffice it to say that a Gaussian doesn’t always fit the bill. In those cases, the general curve we’re dealing with will have a more complex form.</p>
<p>(<em>Sometimes we can know that from the underlying process generating the data - other times we don’t, and it’s analysing the shape of the data that tells us</em>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>x_val<span class="op">=</span> numpy.linspace(<span class="dv">0</span>,<span class="dv">15</span>,<span class="dv">100</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>y_val <span class="op">=</span> (x_val<span class="op">**</span><span class="dv">3</span>)<span class="op">*</span>numpy.exp(<span class="op">-</span>x_val)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>plt.plot(x_val,y_val)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Value'</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>Text(0, 0.5, 'Frequency')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-26-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>How do we characterise a dataset which is complex, asymmetric, or we don’t know the underlying form?</p>
</section>
<section id="magic-moments" class="level1">
<h1>Magic Moments</h1>
<p>Without going into the mathematical detail yet, you can think about moments as being increasingly nuanced ways of describing distributions. There are an infinite number of them, but you can understand the first few inituitively.</p>
<section id="th-moment" class="level2">
<h2 class="anchored" data-anchor-id="th-moment">0th moment</h2>
<p>0th moment is just area under the curve. In this case it would just be the number of people sampled. It doesn’t tell us much.</p>
</section>
<section id="st-moment" class="level2">
<h2 class="anchored" data-anchor-id="st-moment">1st moment</h2>
<p>1st moment is a central “tendency” or average value of the distribution. In a Gaussian, the mean (average) <span class="math inline">\(\mu\)</span> is the average and the centre. But there are other ways of representing this characteristic, like mode or median, as we will see.</p>
</section>
<section id="nd-moment" class="level2">
<h2 class="anchored" data-anchor-id="nd-moment">2nd moment</h2>
<p>Second moment represents the <em>width</em> or <em>spread</em> of the curve. <span class="math inline">\(\sigma\)</span> is calculated from the second moment, and in a Gaussian represents the width of the curve. Interquartile range is another way of doing this, or half-life.</p>
</section>
<section id="rd-moment" class="level2">
<h2 class="anchored" data-anchor-id="rd-moment">3rd moment</h2>
<p>The third moment is related to how <em>asymmetrical</em> a curve is, and the usual way to quantify this is <em>skewness</em>. A Gaussian is symmetric, so its skewness is zero. Actually, all moments apart from 0, 1 and 2 are zero for a Gaussian.</p>
</section>
<section id="th-moment-1" class="level2">
<h2 class="anchored" data-anchor-id="th-moment-1">4th moment</h2>
<p>The standard way to calculate a fourth moment is <em>Kurtosis</em>. This is a measure of how “peaky” or “taily” a curve is. It’s a bit harder to visualise what we’re on about at this point, but it’s worth remembering that a Gaussian has a Kurtosis of 0, so isn’t very “taily”.</p>
</section>
<section id="other-moments" class="level2">
<h2 class="anchored" data-anchor-id="other-moments">Other moments</h2>
<p>It’s harder to interpret what they mean, but an arbitrary probability distribution may need an <em>infinite</em> series of moments to be described correctly. Gaussians are unusual in that they require only two parameters to describe them; if your data looks Gaussian, that makes life easier in many ways.</p>
<p><strong>Extension</strong>: there are distributions which are simple to write down that nevertheless are described by an infinite series of moments; and some, like the Lorentzian, are quite nice functions that have infinite values for most of their moments.</p>
</section>
<section id="recap-the-median" class="level2">
<h2 class="anchored" data-anchor-id="recap-the-median">Recap: The Median</h2>
<p>The <em>median</em> is different from the mean. The median of a data set is an element that seperates the higher half of the data from the lower half. For example, the median of <span class="math inline">\(A = \left \{1,2,3,4,5\right \}\)</span> is 3, and 3 is also the median of <span class="math inline">\(B = \left \{1,2,3,9,10\right \}\)</span>. When a data set has an even number of members like <span class="math inline">\(C = \left \{1,2,3,4\right \}\)</span>, the median is defined as the average of the top lower half and the lower top half, so the median of C is (2+3)/2=2.5 .</p>
<p><strong>Advanced</strong>: How did we define the median from a distribution (hint: consider area under curve and what it means)? What about quartiles? What about deciles? What are these quantities?</p>
</section>
<section id="exercise" class="level2">
<h2 class="anchored" data-anchor-id="exercise">Exercise</h2>
<p>Under which conditions is the median equal to the mean? (hint: look at the normal distribution - but think more broadly abouting how “counting” and “area under curve” are related in histograms).</p>
</section>
<section id="exercise-1" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1">Exercise</h2>
<p>Construct a set of 5 numbers such that the median is half the value of the mean.</p>
</section>
<section id="power-laws" class="level2">
<h2 class="anchored" data-anchor-id="power-laws">Power Laws</h2>
<p>Another type of important distributions are <strong>power law</strong> distributions. When the probability of a variable to take the value of <span class="math inline">\(x\)</span> is roughly <span class="math inline">\(\frac{1}{x^k}\)</span> we say that <span class="math inline">\(x\)</span> has a power law distribution with exponent <span class="math inline">\(k\)</span>.</p>
<p>For instance let’s plot a power law function with exponent 3.</p>
<p>We start off by generating an array of 100 numbers between 1 and 10; numpy.linspace() lets us do this (here is the documentation if you want to find out more: http://docs.scipy.org/doc/numpy/reference/generated/numpy.linspace.html)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>x_val<span class="op">=</span> numpy.linspace(<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">100</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#** is "to the power of" in Pythonese</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>y_val <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>x_val<span class="op">**</span><span class="dv">3</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>plt.plot(x_val,y_val)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Value'</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="dv">1</span>,<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>(1.0, 5.0)</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-29-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>An important class of power law distributions are called <strong>Pareto</strong> type distributions. Consider for instance, the distribution of income in a city. We will find that about 20% of the population has 80% of the wealth, this is also known as a 80:20 law.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>sample <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>exponent <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">1</span> <span class="op">+</span> numpy.random.pareto(exponent, sample)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>plt.hist(y, bins, histtype<span class="op">=</span><span class="st">'step'</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>plt.xlim((<span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Value'</span>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>Text(0, 0.5, 'Frequency')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-30-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="exercise-2" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2">Exercise:</h2>
<p>Add lines showing the mean, mode and median to the above graph, and comment on this with a box of markdown.</p>
</section>
<section id="comments" class="level2">
<h2 class="anchored" data-anchor-id="comments">Comments:</h2>
<p>We plotted the mean, mode and median of the distribution…</p>
</section>
<section id="extension-quantifying-datasets-which-cover-a-wide-range-of-values." class="level2">
<h2 class="anchored" data-anchor-id="extension-quantifying-datasets-which-cover-a-wide-range-of-values.">Extension: Quantifying Datasets Which Cover a Wide Range of Values.</h2>
<p>Objects like the mean present a problem for power laws - in some cases, they diverge. So, for the mathematicians, if the exponent is 1, we can approximate the mean by</p>
<p><span class="math inline">\(\mu = \int_0^{\infty}dx \frac{1}{x}*x = \int_0^{\infty}dx = \infty\)</span>!</p>
<p>which gives a nonsensical value. Larger exponents (larger than 2) ensure this doesn’t occur - but what sense does the mean make when there are people earning 10, 100 or 1000 times that mean value?</p>
<p>When datasets cover many orders of magnitude (here from 33 to 2090), we may need to think about <em>geometrical</em> methods for understanding its properties. For the mean, we might consider the <em>geometrical mean</em>, achieved by mutiplying the 100 values together and taking the 100th root. To understand the width, we might use a half-life type measure. Half-life is the “time” it takes for a radioactive source to reach half its current level of radioactivity; but we can think about applying this to other situations, where “time” is replaced by “percentile” and “radioactivity” is replaced by “income”, for example.</p>
</section>
<section id="extension-bimodal-distributions" class="level2">
<h2 class="anchored" data-anchor-id="extension-bimodal-distributions">Extension: Bimodal Distributions</h2>
<p>Sometimes distributions are <em>Bimodal</em> or multimodal. What this literally means is that they have multiple “modes” - most popular values - i.e.&nbsp;peaks. In these cases, mean may not be the best measure and we may need to think about these two (or larger number of) peaks relates to different segments of our sample or population.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>sample <span class="op">=</span> <span class="dv">100000</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">25</span> <span class="op">*</span> numpy.random.randn(sample) <span class="op">+</span> <span class="dv">20</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">int</span>(sample<span class="op">/</span><span class="dv">2</span>)):</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    a[i] <span class="op">=</span> a[i]<span class="op">*</span><span class="fl">1.3</span><span class="op">+</span><span class="dv">100</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>plt.hist(a, <span class="dv">250</span>, histtype<span class="op">=</span><span class="st">'step'</span>)<span class="op">;</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Value'</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>Text(0, 0.5, 'Frequency')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="W07.%20Distributions%20and%20Basic%20Statistics_files/figure-html/cell-33-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="exercise-3" class="level2">
<h2 class="anchored" data-anchor-id="exercise-3">Exercise:</h2>
<p>Plot the mean and median for the above graph. What might be better statistics? How might you find them?</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../Week 6.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Group Presentations</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../Week 8.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Regression</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>